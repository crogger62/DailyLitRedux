{% extends "base.html" %}

{% block title %}DailyLit Redux - Settings{% endblock %}

{% block content %}
  <section class="card">
    <h2>Settings</h2>
    {% if message %}
      <p class="notice">{{ message }}</p>
    {% endif %}
    <div class="settings-grid">
      <div>
        <h3>Default pages per day</h3>
        <p class="muted">{{ settings.default_pages_per_day or '1' }}</p>
        <form method="post" action="{{ url_for('settings_default') }}">
          <label for="default-pages">Update default</label>
          <input
            id="default-pages"
            name="default_pages_per_day"
            type="number"
            min="1"
            value="{{ settings.default_pages_per_day or '1' }}"
          />
          <button type="submit">Save</button>
        </form>
      </div>
      <div>
        <h3>Email address</h3>
        <p class="muted">{{ settings.email_address or 'crog62@gmail.com' }}</p>
        <form method="post" action="{{ url_for('settings_email') }}">
          <label for="email-address">Update email</label>
          <input
            id="email-address"
            name="email_address"
            type="email"
            value="{{ settings.email_address or 'crog62@gmail.com' }}"
          />
          <button type="submit">Save</button>
        </form>
      </div>
      <div>
        <h3>Send time</h3>
        <p class="muted">{{ settings.send_time or '02:00' }}</p>
        <form method="post" action="{{ url_for('settings_time') }}">
          <label for="send-time">Update send time</label>
          <input
            id="send-time"
            name="send_time"
            type="time"
            value="{{ settings.send_time or '02:00' }}"
          />
          <button type="submit">Save</button>
        </form>
      </div>
    </div>
    <form method="post" action="{{ url_for('settings_test_email') }}">
      <button type="submit">Send test email</button>
    </form>
  </section>
{% endblock %}
